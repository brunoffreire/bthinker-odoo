<odoo>
  <data>

    <record model="ir.actions.act_window" id="bthinker_qrdoor.porta_action_window">
      <field name="name">Cadastro de Porta</field>
      <field name="res_model">bthinker.porta</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="oe_view_nocontent_smiling_face">
              Cadastre a primeira porta!
        </p>
      </field>
    </record>

    <record model="ir.ui.view" id="bthinker_qrdoor.porta_list">
      <field name="name">bthinker.porta.list</field>
      <field name="model">bthinker.porta</field>
      <field name="arch" type="xml">
        <tree>
          <field name="contrato_id"/>
          <field name="nome"/>
          <field name="state"/>
          <field name="guid"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="bthinker_qrdoor.porta_form">
      <field name="name">bthinker.porta.form</field>
      <field name="model">bthinker.porta</field>
      <field name="arch" type="xml">
        <form string="Cadastro de Porta">
          <header>
            <button name="action_fire_firmware_update" string="Atualizar Firmware" type="object" class="oe_highlight" />
          </header>
          <sheet>
            <group col="2">
              <group>
                <separator string="Dados Gerais"/>
                <field name="contrato_id"/>
                <field name="nome"/>
                <field name="state"/>
                <field name="guid"/>
                <field name="firmware_file"/>                
              </group>
            </group>
            <notebook>
              <page string="Usuários">
                <field name="usuario_ids">
                  <tree string="Usuários do Contrato" delete="false" create="false" edit="false" editable="top">
                    <field name="nome"/>
                    <field name="username"/>
                    <field name="email"/>
                    <field name="celular"/>
                  </tree>
                </field>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>
  </data>
</odoo>